/* --- Modern Admin View Reports CSS (2025 Redesign v2) --- */

/* --- 1. Page Header & Stat Cards --- */
.view-reports-page .page-title { font-size: 2rem; font-weight: 800; margin-bottom: 0.25rem; }
.view-reports-page .page-subtitle { font-size: 1.1rem; color: var(--admin-text-secondary); margin-top: 0; margin-bottom: 2rem; }

.stat-cards-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 1rem; margin-bottom: 2rem; }
.stat-card-sm { background-color: var(--admin-card-bg); border-radius: 1rem; padding: 1rem; border: 1px solid var(--admin-border-color); }
.stat-card-sm .stat-label { font-size: 0.85rem; color: var(--admin-text-secondary); margin-bottom: 0.25rem; }
.stat-card-sm .stat-value { font-size: 1.75rem; font-weight: 700; color: var(--admin-text-primary); }
.stat-card-sm.pending .stat-value { color: #ff9500; }
.stat-card-sm.resolved .stat-value { color: var(--admin-green); }

/* --- 2. Filter & View Toggle Bar --- */
.controls-bar { display: flex; flex-wrap: wrap; justify-content: space-between; gap: 1.5rem; margin-bottom: 2rem; }
.filter-group { display: flex; flex-wrap: wrap; gap: 1rem; }
.filter-controls, .view-toggle { display: flex; gap: 0.5rem; background-color: var(--admin-background); padding: 0.5rem; border-radius: 10px; border: 1px solid var(--admin-border-color); }
.control-btn { background: transparent; border: none; padding: 0.5rem 1rem; border-radius: 8px; font-weight: 600; font-size: 0.9rem; cursor: pointer; transition: all 0.2s ease; color: var(--admin-text-secondary); display: flex; align-items: center; gap: 0.5rem; }
.control-btn.active { background-color: var(--admin-card-bg); color: var(--admin-primary); box-shadow: 0 2px 8px rgba(0,0,0,0.08); }
.control-btn:not(.active):hover { color: var(--admin-text-primary); }

.search-reports { flex-grow: 1; position: relative; min-width: 250px; }
.search-reports .material-icons { position: absolute; top: 50%; left: 1rem; transform: translateY(-50%); color: var(--admin-text-secondary); }
.search-reports input { width: 100%; height: 100%; padding: 0.75rem 1rem 0.75rem 3rem; border-radius: 10px; border: 1px solid var(--admin-border-color); background-color: var(--admin-card-bg); font-size: 1rem; }

/* --- 3. Accordion View --- */
.report-accordion { display: grid; gap: 1rem; }
.report-accordion-item { background-color: var(--admin-card-bg); border-radius: 1rem; border: 1px solid var(--admin-border-color); box-shadow: 0 4px 15px rgba(0,0,0,0.06); overflow: hidden; }
.accordion-header { display: grid; grid-template-columns: 1fr auto auto; align-items: center; gap: 1.5rem; padding: 1rem 1.5rem; cursor: pointer; }
.header-info h5 { font-size: 1rem; font-weight: 600; margin: 0; }
.header-info p { font-size: 0.85rem; margin: 0.2rem 0 0 0; color: var(--admin-text-secondary); }
.status-pill { font-size: 0.75rem; font-weight: 600; padding: 0.25rem 0.75rem; border-radius: 99px; text-transform: uppercase; }
.status-pill.pending { background-color: rgba(255, 149, 0, 0.15); color: #ff9500; }
.status-pill.resolved { background-color: rgba(52, 199, 89, 0.15); color: var(--admin-green); }
.chevron-icon { transition: transform 0.3s ease; }
.chevron-icon.open { transform: rotate(180deg); }
.accordion-body { display: grid; grid-template-rows: 0fr; transition: grid-template-rows 0.4s ease; }
.accordion-body.open { grid-template-rows: 1fr; }
.accordion-content { overflow: hidden; }
.accordion-details { padding: 1.5rem; border-top: 1px solid var(--admin-border-color); }
.detail-block { margin-bottom: 1.25rem; }
.detail-block strong { display: block; font-size: 0.9rem; font-weight: 500; color: var(--admin-text-secondary); margin-bottom: 0.5rem; }
.detail-block p { margin: 0; padding: 1rem; border-radius: 8px; background-color: var(--admin-background); white-space: pre-wrap; }
.reply-form-wrapper, .admin-reply-view { margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px dashed var(--admin-border-color); }
.reply-actions { display: flex; gap: 0.75rem; }
.reply-actions button { flex-grow: 1; border: none; border-radius: 8px; padding: 0.75rem; font-weight: 600; transition: all 0.2s ease; }
.reply-actions .quick-resolve-btn { background-color: var(--admin-background); color: var(--admin-text-primary); }
.reply-actions .quick-resolve-btn:hover { background-color: #e5e5ea; }
.reply-actions .send-reply-btn { background-color: var(--admin-primary); color: #fff; }

/* --- 4. NEW: List View --- */
.report-list-view { background-color: var(--admin-card-bg); border-radius: 1rem; border: 1px solid var(--admin-border-color); overflow: hidden; }
.report-list-item { display: grid; grid-template-columns: 2fr 1fr 1fr auto; align-items: center; gap: 1rem; padding: 1rem 1.5rem; border-bottom: 1px solid var(--admin-border-color); }
.report-list-item:last-child { border-bottom: none; }
.report-list-item .info h5 { font-size: 0.9rem; font-weight: 600; margin: 0; }
.report-list-item .info p { font-size: 0.8rem; margin: 0; color: var(--admin-text-secondary); }
.report-list-item .actions { display: flex; gap: 0.5rem; }

/* --- 5. General & Dark Mode --- */
.empty-state { margin-top: 2rem; text-align: center; padding: 3rem; background-color: var(--admin-card-bg); border-radius: 1rem; border: 1px dashed var(--admin-border-color); }
@media (prefers-color-scheme: dark) {
    .stat-card-sm { background-color: #1c1c1e; border-color: #38383a; }
    .filter-controls, .view-toggle { background-color: #1c1c1e; border-color: #38383a; }
    .control-btn.active { background-color: #2c2c2e; }
    .search-reports input, .report-list-view { background-color: #1c1c1e; border-color: #38383a; }
    .status-pill.pending { background: #332b13; color: #d48806; }
    .status-pill.resolved { background: #1f3315; color: #52c41a; }
}
@media (max-width: 768px) {
    .controls-bar { flex-direction: column; }
    .report-list-item { grid-template-columns: 1fr; text-align: center; }
    .report-list-item .info, .report-list-item .status-pill { margin-bottom: 0.75rem; }
    .report-list-item .actions { justify-content: center; }
}